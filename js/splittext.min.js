function SplitText(s,e){function t(s,e){(function(s,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(s.className)})(s,e)||(s.className+=" "+e)}function i(s){var e=0,t=0,i=0,o=0;if((s=s).offsetParent){do{s.offsetParent&&(s.offsetParent,document.getElementsByTagName("html")[0]),e+=s.offsetTop,t+=s.offsetParent?s.offsetParent.scrollTop:0,i+=s.offsetLeft,o+=s.offsetParent?s.offsetParent.scrollLeft:0}while(s=s.offsetParent);return[i-o,e-t]}}function o(s,e){var o="<div style='display:inline-block;'>",r="</div>";s.innerHTML=o+s.innerHTML.replaceAll(" ",r+" "+o)+r;for(var n=s.querySelectorAll("div"),l=0;l<n.length;l++){if(void 0!==e.vars.wordsClass&&"undefined"!=e.vars.wordsClass&&t(n[l],e.vars.wordsClass.replaceAll("++",l+1)),null!==e.vars.position)if("absolute"==e.vars.position)n[l].toBe={top:n[l].offsetTop,left:n[l].offsetLeft},n[l].style.position="relative";else if("fixed"==e.vars.position){var a=i(n[l]);n[l].toBe={top:a[1],left:a[0]},n[l].style.position="relative"}else n[l].style.position=e.vars.position;c.words.push(n[l])}}function r(s,e){var o="<div style='display:inline-block;'>",r="</div>",n=s.innerHTML.match(/(&\w+;)/g);s.innerHTML=o+s.innerHTML.replace(/&\w+;/g,"ህ").split("").join(r+o)+r;for(var l=s.querySelectorAll("div"),a=0;a<l.length;a++){if(void 0!==e.vars.charsClass&&"undefined"!=e.vars.charsClass){var h=e.vars.charsClass.replaceAll("++",a+1);h=a!=l.length-1?h.replaceAll("**",l[a].innerHTML+l[a+1].innerHTML):h.replaceAll("**",""),t(l[a],h)}if(null!==e.vars.position)if("absolute"==e.vars.position)l[a].toBe={top:l[a].offsetTop,left:l[a].offsetLeft},l[a].style.position="relative";else if("fixed"==e.vars.position){var f=i(l[a]);l[a].toBe={top:f[1],left:f[0]},l[a].style.position="relative"}else l[a].style.position=e.vars.position;"ህ"==l[a].innerHTML&&(l[a].innerHTML=n[0],n.splice(0,1)),c.chars.push(l[a])}}String.prototype.replaceAll=function(s,e){return this.split(s).join(e)};s=s||[];var n={type:"chars,words,lines",charsClass:void 0,linesClass:void 0,wordsClass:void 0,position:"relative"};this.HTMLobjects=[],this.vars={},this.originalHTML=[],this.lines=[],this.words=[],this.chars=[],Array.isArray(s)||(s=[s]);for(var l=0;l<s.length;l++){if(1==s[l].nodeType&&this.HTMLobjects.push(s[l]),window.jQuery&&s[l]&&(s[l]instanceof jQuery||s[l].constructor.prototype.jquery))for(var a=0;a<s[l].length;a++)1==s[l][a].nodeType&&this.HTMLobjects.push(s[l][a]);if("string"==typeof s[l]){elements=document.querySelectorAll(s[l]);for(a=0;a<elements.length;a++)1==elements[a].nodeType&&this.HTMLobjects.push(elements[a])}}if(e&&"object"==typeof e&&null!==e){if(e.type&&"string"==typeof e.type){e.type=e.type.split(",");var h=["chars","words","lines"],f=[];for(l=0;l<e.type.length;l++)-1!=h.indexOf(e.type[l].toLowerCase())&&-1==f.indexOf(e.type[l].toLowerCase())?f.push(e.type[l].toLowerCase()):console.error(e.type[l]+"is not a valid type");0==f.length?this.vars.type=n.type:this.vars.type=f.join(",")}else this.vars.type=n.type;this.vars.charsClass=e.charsClass&&"string"==typeof e.charsClass?e.charsClass:n.charsClass,this.vars.wordsClass=e.wordsClass&&"string"==typeof e.wordsClass?e.wordsClass:n.wordsClass,this.vars.linesClass=e.linesClass&&"string"==typeof e.linesClass?e.linesClass:n.linesClass;this.vars.position=e.position&&-1!=["absolute","relative","static","fixed","inherit","initial",null].indexOf(e.position)?e.position:n.position}else this.vars=function s(e){if("object"==typeof e&&null!==e){var t={};for(var i in e)t[i]=s(e[i]);return t}return e}(n);for(l=0;l<this.HTMLobjects.length;l++)this.originalHTML[l]=this.HTMLobjects[l].innerHTML;this.revert=function(){for(var s=0;s<this.HTMLobjects.length;s++)this.HTMLobjects[s].innerHTML=this.originalHTML[s]},this.vars.type=this.vars.type.split(",");for(l=0;l<this.HTMLobjects.length;l++){var p=this.HTMLobjects[l];p.innerHTML=p.innerHTML.replace(/<\/?[^>]+(>|$)/g,"");var c={lines:[],words:[],chars:[]};if(-1!=this.vars.type.indexOf("lines")){var v=p.innerHTML,d=v.split(" "),y=[];p.innerHTML=d[0];var g=p.offsetHeight;for(a=1;a<d.length;a++)p.innerHTML=p.innerHTML+" "+d[a],p.offsetHeight>g&&(g=p.offsetHeight,y.push(p.innerHTML.length-(d[a].length+1)));y.push(p.innerHTML.length),p.innerHTML="";for(a=0;a<y.length;a++){var u=0==a?0:y[a-1]+1,w=a==y.length-1?v.length:y[a],T=document.createElement("div");if(T.style.display="block",void 0!==this.vars.linesClass&&"undefined"!=this.vars.linesClass&&(this.class=this.vars.linesClass.replace("++",a+1)),T.innerHTML=v.substring(u,w),p.appendChild(T),null!==this.vars.position)if("absolute"==this.vars.position)T.toBe={top:T.offsetTop,left:T.offsetLeft},T.style.position="relative";else if("fixed"==this.vars.position){var L=i(T);T.toBe={top:L[1],left:L[0]},T.style.position="relative"}else T.style.position=this.vars.position;c.lines.push(T)}}if(-1!=this.vars.type.indexOf("words"))if(-1!=this.vars.type.indexOf("lines"))for(a=0;a<c.lines.length;a++)o(c.lines[a],this);else o(p,this);if(-1!=this.vars.type.indexOf("chars"))if(-1!=this.vars.type.indexOf("words"))for(a=0;a<c.words.length;a++)r(c.words[a],this);else if(-1!=this.vars.type.indexOf("lines"))for(a=0;a<c.lines.length;a++)r(c.lines[a],this);else r(p,this);if("absolute"==this.vars.position||"fixed"==this.vars.position){for(a=c.chars.length-1;a>=0;a--)c.chars[a].style.width=c.chars[a].offsetWidth+"px",c.chars[a].style.height=c.chars[a].offsetHeight+"px",c.chars[a].style.left=c.chars[a].toBe.left+"px",c.chars[a].style.top=c.chars[a].toBe.top+"px";for(a=c.words.length-1;a>=0;a--)c.words[a].style.width=c.words[a].offsetWidth+"px",c.words[a].style.height=c.words[a].offsetHeight+"px",c.words[a].style.left=c.words[a].toBe.left+"px",c.words[a].style.top=c.words[a].toBe.top+"px";for(a=c.lines.length-1;a>=0;a--)c.lines[a].style.width=c.lines[a].offsetWidth+"px",c.lines[a].style.height=c.lines[a].offsetHeight+"px",c.lines[a].style.left=c.lines[a].toBe.left+"px",c.lines[a].style.top=c.lines[a].toBe.top+"px";for(a=c.chars.length-1;a>=0;a--)c.chars[a].style.position=this.vars.position;for(a=c.words.length-1;a>=0;a--)c.words[a].style.position=this.vars.position;for(a=c.lines.length-1;a>=0;a--)c.lines[a].style.position=this.vars.position}this.lines=this.lines.concat(c.lines),this.words=this.words.concat(c.words),this.chars=this.chars.concat(c.chars)}}